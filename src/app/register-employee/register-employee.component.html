<!--<div>
    <h2 *ngIf="!loggedIn">Please log in</h2>
    <h2 *ngIf="loggedIn">You are logged in</h2>
    <button *ngIf="!loggedIn" (click)="login()">Login</button>
    <button *ngIf="loggedIn" (click)="logout()">Logout</button>
</div>-->
  <div class="register-form">
    <form [formGroup]="registerForm" class="border p-3 rounded" >
        <div class="row g-0">
            <div class="col text-center p-2 mb-3 bg-light">
                <span class="header">Register</span>
             </div>
        </div>
        <div class="row">
            <div class="col">
                <label for="employeeId" class="form-label">Employee-Id</label>
                <input type="number"  class="form-control" [(ngModel)]="employeeObj.employeeId" id="employeeId" formControlName="employeeId" min="0" >
                <div class="form-text text-danger" *ngIf="EmployeeId.errors?.['required'] && EmployeeId.touched ">
                    Please enter Employee-Id
                </div>
                <div class="form-text text-danger" *ngIf="EmployeeId?.hasError('uniqueEmployeeId')">
                    Employee-Id should be unique.
                </div>
                <div class="form-text text-danger" *ngIf="EmployeeId.errors?.['invalidFormat'] && (EmployeeId.dirty || EmployeeId.touched)">
                    invalid format.
                </div>
            </div>
            <div class="col">
                <label for="jobtitle" class="form-label">Job-Title</label>
                <input type="text" class="form-control" [(ngModel)]="employeeObj.jobtitle" id="jobtitle" formControlName="jobtitle">
                <div class="form-text text-danger" *ngIf="JobTitle.errors?.['required'] && JobTitle.touched ">
                    Please enter job-title
                </div>
                <div class="form-text text-danger" *ngIf="JobTitle.errors?.['maxlength'] && (JobTitle.dirty || JobTitle.touched)">
                    job-title is invalid
                 </div>
            </div>
            <div class="col">
                <label for="contact" class="form-label">Contact</label>
                <input type="text" class="form-control" [(ngModel)]="employeeObj.contact" id="contact" formControlName="contact" min="0">
                <div class="form-text text-danger" *ngIf="Contact.errors?.['required'] && (Contact.dirty || Contact.touched)">
                    Number is required
                </div>
                <div class="form-text text-danger" *ngIf="Contact.errors?.['pattern']">
                    Number is invalid
                </div>
                <div class="form-text text-danger" *ngIf="Contact.errors?.['minlength'] && (Contact.dirty || Contact.touched)">
                   Number is Short
                </div>
                <div class="form-text text-danger" *ngIf="Contact.errors?.['maxlength'] && (Contact.dirty || Contact.touched)">
                    Number is Long
                 </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <label for="department" class="form-label">Department</label>
                <select class="form-select" id="department" formControlName="department" [(ngModel)]="employeeObj.department">
                    <option selected="" disabled="" value="">...</option>
                    <option>IT</option>
                    <option>SAP</option>
                    <option>Marketing</option>
                </select>
                <div  class="form-text text-danger" *ngIf="Dept.errors?.['required'] && (Dept.dirty || Dept.touched)">
                    Please select department.
                </div>
            </div>
            <div class="col">
                <label for="salary" class="form-label">Salary</label>
                <input type="number" class="form-control" [(ngModel)]="employeeObj.salary" id="salary" formControlName="salary">
                <div class="form-text text-danger" *ngIf="Salary.errors?.['required'] && (Salary.dirty || Salary.touched)">
                    Please enter Salary.
                </div>
                <div class="form-text text-danger" *ngIf="Salary.hasError('pattern') && Salary.touched">
                    Please enter a valid numerical value
                  </div>
                  <div class="form-text text-danger" *ngIf="Salary.hasError('salaryRange') && Salary.touched">
                    Salary must be between $10,000 and $100,000
                  </div>
            </div>
            <div class="col">
                <label for="doj" class="form-label">Hire-Date</label>
                <input type="date" class="form-control" [(ngModel)]="employeeObj.doj" id="doj" formControlName="doj" >
                <div class="form-text text-danger" *ngIf="Doj.errors?.['required'] && (Doj.dirty || Doj.touched)">
                Hire Date is required.
                </div>
                <div class="form-text text-danger" *ngIf="Doj?.hasError('futureDate')">
                    Hire date cannot be in the future.
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <label for="dob" class="form-label">Date of Birth</label>
                <input type="date" id="dob" formControlName="dob" class="form-control" [(ngModel)]="employeeObj.dob">
                <div class="form-text text-danger" *ngIf="Dob.errors?.['required'] && (Dob.dirty || Dob.touched)">
                    Date of Birth is required
                </div>
                    <div class="form-text text-danger" *ngIf="Dob?.hasError('tooYoung')">
                        You must be at least 18 years old.
                    </div>
            </div>
            <div class="col label-gender">
                <div class="m-1">Gender</div>
                <div class="form-check form-check-inline">
                    <input type="radio" class="form-check-input" id="male" value="m" formControlName="gender" [(ngModel)]="employeeObj.gender">
                    <label class="form-check-label" for="female">Male</label>
                </div>
                <div class="form-check form-check-inline">
                    <input type="radio" class="form-check-input" id="female" value="f" formControlName="gender" [(ngModel)]="employeeObj.gender">
                    <label class="form-check-label" for="female">Female</label>
                </div>
                <div class="form-text text-danger" *ngIf="Gender.errors?.['required'] && (Gender.dirty || Gender.touched)">
                </div>
                <div class="form-text text-danger" *ngIf="Gender.errors?.['required']">
                    Select Gender
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <label for="email" class="form-label">Email address</label>
                <input type="email" class="form-control extension-section" id="email" formControlName="email" [(ngModel)]="employeeObj.email">
                <div class="form-text text-danger" *ngIf="Email.errors?.['required'] && (Email.dirty || Email.touched)">
                    Email is Required.
                </div>
                <div class="form-text text-danger" *ngIf="Email.errors?.['email'] && (Email.dirty || Email.touched)">
                    Email is Invalid.
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <label for="address" class="form-label">Address</label><br>
                <label for="street" class="form-label">Street</label>
                <input type="text" class="form-control extension-section" [(ngModel)]="employeeObj.street" id="street" formControlName="street">
                <div class="form-text text-danger" *ngIf="Street.errors?.['required'] && (Street.dirty || Street.touched)">
                    Please enter valid address.
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <label for="city" class="form-label">City</label>
                <input type="city" class="form-control" [(ngModel)]="employeeObj.city" id="city" formControlName="city">
                <div class="form-text text-danger" *ngIf="City.errors?.['required'] && (City.dirty || City.touched)">
                    Please enter a city.
                </div>
            </div>
            <div class="col">
                <label for="state" class="form-label">State</label>
                <select class="form-select" id="state" formControlName="state" [(ngModel)]="employeeObj.state">
                    <option selected="" disabled="" value="">...</option>
                    <option>Karnataka</option>
                    <option>Tamil Nadu</option>
                    <option>Kerala</option>
                </select>
                <div class="form-text text-danger" *ngIf="State.errors?.['required'] && (State.dirty || State.touched)">
                    Please select a valid state.
                </div>
            </div>
            <div class="col">
                <label for="zip" class="form-label">Postal code</label>
                <input type="text" class="form-control" [(ngModel)]="employeeObj.zip" id="zip" formControlName="zip" >
                <div class="form-text text-danger" *ngIf="Zip.errors?.['required'] && (Zip.dirty || Zip.touched)">
                    Please provide a valid code.
                </div>
            </div>
        </div>
        <div class="row p-3">
            <div class="col-4 offset-4 mt-2">
                <div class="d-grid">
                    <button type="submit" [disabled]="registerForm.invalid" *ngIf="this.currentId == 0" class="btn btn-primary" (click)="submit()">Submit</button>
                    <button type="updateData" *ngIf="this.currentId !== 0 " class="btn btn-primary"  (click)="openConfirmationModal()">Update</button>
                </div>
            </div>
        </div>
    </form>
</div>

<!-- Update Confirmation Modal -->
<div class="modal fade" id="updateConfirmationModal" tabindex="-1" aria-labelledby="updateConfirmationModalLabel" aria-hidden="true" [class.show]="confirmationModalVisible">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="updateConfirmationModalLabel">Confirm Update</h5>
                <button type="button" class="btn-close" aria-label="Close" (click)="closeConfirmationModal()"></button>
            </div>
            <div class="modal-body">
                Are you sure you want to update this data?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="closeConfirmationModal()">Cancel</button>
                <button type="button" class="btn btn-primary" (click)="updateData()">Update</button>
            </div>
        </div>
    </div>
</div>